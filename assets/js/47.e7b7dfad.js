(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{1167:function(s,t,e){s.exports=e.p+"assets/img/readme.c18608aa.jpg"},1168:function(s,t,e){s.exports=e.p+"assets/img/1.2-12306.1f06b7a8.png"},1333:function(s,t,e){"use strict";e.r(t);var a=e(3),n=Object(a.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("介绍")]),s._v(" "),a("p",[s._v("中国人离不开火车票，学会了就能买票回家！")]),s._v(" "),a("p",[a("img",{attrs:{src:e(1167),alt:"readme"}})]),s._v(" "),a("p",[s._v("内容")]),s._v(" "),a("ul",[a("li",[s._v("12306购票抓包分析以及任务分解")]),s._v(" "),a("li",[s._v("处理验证码并完成登陆")]),s._v(" "),a("li",[s._v("解析车站信息以及车辆信息")]),s._v(" "),a("li",[s._v("预定订单初始化、解析用户信息以及坐席信息")]),s._v(" "),a("li",[s._v("构造时间参数以及下单购票")]),s._v(" "),a("li",[s._v("测试运行以及完整代码")])]),s._v(" "),a("h2",{attrs:{id:"_12306购票抓包分析以及任务分解"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12306购票抓包分析以及任务分解"}},[s._v("#")]),s._v(" 12306购票抓包分析以及任务分解")]),s._v(" "),a("h5",{attrs:{id:"学习目标"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#学习目标"}},[s._v("#")]),s._v(" 学习目标：")]),s._v(" "),a("ol",[a("li",[s._v("了解 12306抓包过程")])]),s._v(" "),a("hr"),s._v(" "),a("h3",{attrs:{id:"_1-1-抓包分析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-抓包分析"}},[s._v("#")]),s._v(" 1.1 抓包分析")]),s._v(" "),a("blockquote",[a("p",[s._v("使用谷歌浏览器或fiddler等抓包工具完成登陆以及购票操作，进行抓包，根据 "),a("code",[s._v("具有业务作用")]),s._v(" 或 "),a("code",[s._v("被set-cookie")]),s._v(" 确定以下内容：")])]),s._v(" "),a("ol",[a("li",[s._v("url")]),s._v(" "),a("li",[s._v("query")]),s._v(" "),a("li",[s._v("method")]),s._v(" "),a("li",[s._v("data")]),s._v(" "),a("li",[s._v("Referer")]),s._v(" "),a("li",[s._v("response.text / response.json()")])]),s._v(" "),a("h4",{attrs:{id:"_1-1-1-https-www-12306-cn-index"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-1-https-www-12306-cn-index"}},[s._v("#")]),s._v(" 1.1.1 "),a("code",[s._v("https://www.12306.cn/index/")])]),s._v(" "),a("blockquote",[a("p",[s._v("作用：获取cookies")])]),s._v(" "),a("ul",[a("li",[s._v("GET")])]),s._v(" "),a("h4",{attrs:{id:"_1-1-2-https-kyfw-12306-cn-otn-login-conf"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-2-https-kyfw-12306-cn-otn-login-conf"}},[s._v("#")]),s._v(" 1.1.2 "),a("code",[s._v("https://kyfw.12306.cn/otn/login/conf")])]),s._v(" "),a("blockquote",[a("p",[s._v("作用：获取cookies")])]),s._v(" "),a("ul",[a("li",[s._v("POST")]),s._v(" "),a("li",[s._v("data 无")]),s._v(" "),a("li",[s._v("Referer "),a("code",[s._v("https://kyfw.12306.cn/otn/resources/login.html")])])]),s._v(" "),a("h4",{attrs:{id:"_1-1-3-https-kyfw-12306-cn-otn-index12306-getloginbanner"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-3-https-kyfw-12306-cn-otn-index12306-getloginbanner"}},[s._v("#")]),s._v(" 1.1.3 "),a("code",[s._v("https://kyfw.12306.cn/otn/index12306/getLoginBanner")])]),s._v(" "),a("blockquote",[a("p",[s._v("作用：获取cookies")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("GET")])]),s._v(" "),a("li",[a("p",[s._v("Referer "),a("code",[s._v("https://kyfw.12306.cn/otn/resources/login.html")])])]),s._v(" "),a("li",[a("p",[s._v("response.json()")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"validateMessagesShowId"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"_validatorMessage"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"status"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"httpstatus"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"data"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("...\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("h4",{attrs:{id:"_1-1-4-https-kyfw-12306-cn-passport-web-auth-uamtk-static"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-4-https-kyfw-12306-cn-passport-web-auth-uamtk-static"}},[s._v("#")]),s._v(" 1.1.4 "),a("code",[s._v("https://kyfw.12306.cn/passport/web/auth/uamtk-static")])]),s._v(" "),a("blockquote",[a("p",[s._v("作用：获取cookies，检查用户是否登录")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("POST")])]),s._v(" "),a("li",[a("p",[s._v("data")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("{'appid': 'otn'}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("Referer "),a("code",[s._v("https://kyfw.12306.cn/otn/resources/login.html")])])]),s._v(" "),a("li",[a("p",[s._v("response.json()")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('{"result_message":"用户未登录","result_code":1}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("h4",{attrs:{id:"_1-1-5-https-kyfw-12306-cn-passport-web-create-qr64"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-5-https-kyfw-12306-cn-passport-web-create-qr64"}},[s._v("#")]),s._v(" 1.1.5 "),a("code",[s._v("https://kyfw.12306.cn/passport/web/create-qr64")])]),s._v(" "),a("blockquote",[a("p",[s._v("作用：获取cookies，获取登录二维码")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("POST")])]),s._v(" "),a("li",[a("p",[s._v("data")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("{'appid': 'otn'}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("Referer "),a("code",[s._v("https://kyfw.12306.cn/otn/resources/login.html")])])]),s._v(" "),a("li",[a("p",[s._v("response.json()")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('{"result_message":"生成二维码成功","result_code":"0","image":"iVBO...","uuid":"..."}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("uuid")])])])]),s._v(" "),a("h4",{attrs:{id:"_1-1-6-https-kyfw-12306-cn-passport-web-checkqr"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-6-https-kyfw-12306-cn-passport-web-checkqr"}},[s._v("#")]),s._v(" 1.1.6 "),a("code",[s._v("https://kyfw.12306.cn/passport/web/checkqr")])]),s._v(" "),a("blockquote",[a("p",[s._v("作用：获取cookies，查询二维码状态")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("POST")])]),s._v(" "),a("li",[a("p",[s._v("data")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("{'appid': 'otn', 'uuid': uuid}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("Referer "),a("code",[s._v("https://kyfw.12306.cn/otn/resources/login.html")])])]),s._v(" "),a("li",[a("p",[s._v("response.json()")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('{"result_message":"二维码状态查询成功","result_code":"0"}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("h4",{attrs:{id:"_1-1-7-https-kyfw-12306-cn-passport-captcha-captcha-image64-login-site-e-module-login-rand-sjrand"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-7-https-kyfw-12306-cn-passport-captcha-captcha-image64-login-site-e-module-login-rand-sjrand"}},[s._v("#")]),s._v(" 1.1.7 "),a("code",[s._v("https://kyfw.12306.cn/passport/captcha/captcha-image64?login_site=E&module=login&rand=sjrand&_={}")])]),s._v(" "),a("blockquote",[a("p",[s._v("作用：获取验证码图片")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("GET")])]),s._v(" "),a("li",[a("p",[s._v("query")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("str(time.time() * 1000)[:-5]")]),s._v(" 13位时间戳")])])]),s._v(" "),a("li",[a("p",[s._v("Referer "),a("code",[s._v("https://kyfw.12306.cn/otn/resources/login.html")])])]),s._v(" "),a("li",[a("p",[s._v("response.json()")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('{"result_message":"生成验证码成功","result_code":"0","image":"/9j..."}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("image：base64 图片编码")])])])]),s._v(" "),a("h4",{attrs:{id:"_1-1-8-https-kyfw-12306-cn-passport-captcha-captcha-check-answer-rand-sjrand-login-site-e"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-8-https-kyfw-12306-cn-passport-captcha-captcha-check-answer-rand-sjrand-login-site-e"}},[s._v("#")]),s._v(" 1.1.8 "),a("code",[s._v("https://kyfw.12306.cn/passport/captcha/captcha-check?answer={}&rand=sjrand&login_site=E&_={}")])]),s._v(" "),a("blockquote",[a("p",[s._v("作用：验证图片验证码")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("GET")])]),s._v(" "),a("li",[a("p",[s._v("query")]),s._v(" "),a("ul",[a("li",[s._v("answer 图片验证码坐标")]),s._v(" "),a("li",[a("code",[s._v("str(time.time() * 1000)[:-5]")]),s._v(" 13位时间戳")])])]),s._v(" "),a("li",[a("p",[s._v("Referer "),a("code",[s._v("https://kyfw.12306.cn/otn/resources/login.html")])])]),s._v(" "),a("li",[a("p",[s._v("response.json()")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("{'result_message': '验证码校验成功', 'result_code': '4'}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("h4",{attrs:{id:"_1-1-9-https-kyfw-12306-cn-passport-web-login"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-9-https-kyfw-12306-cn-passport-web-login"}},[s._v("#")]),s._v(" 1.1.9 "),a("code",[s._v("https://kyfw.12306.cn/passport/web/login")])]),s._v(" "),a("blockquote",[a("p",[s._v("作用：登录")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("POST")])]),s._v(" "),a("li",[a("p",[s._v("data")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("{'username': username,\n'password': password,\n'appid': 'otn',\n'answer': answer} # 图片验证码坐标 1.8小结\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("Referer "),a("code",[s._v("https://kyfw.12306.cn/otn/resources/login.html")])])]),s._v(" "),a("li",[a("p",[s._v("response.json()")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('{"result_message":"登录成功","result_code":0,"uamtk":"mZflRtMjLW9f7tIDMvjiZR0qp5uuO3zJQBHeCHvMrxssd1210"}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("h4",{attrs:{id:"_1-1-10-https-kyfw-12306-cn-otn-login-userlogin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-10-https-kyfw-12306-cn-otn-login-userlogin"}},[s._v("#")]),s._v(" 1.1.10 "),a("code",[s._v("https://kyfw.12306.cn/otn/login/userLogin")])]),s._v(" "),a("blockquote",[a("p",[s._v("作用：302跳转")])]),s._v(" "),a("ul",[a("li",[s._v("GET")]),s._v(" "),a("li",[s._v("Referer "),a("code",[s._v("https://kyfw.12306.cn/otn/resources/login.html")])])]),s._v(" "),a("h4",{attrs:{id:"_1-1-11-https-kyfw-12306-cn-otn-passport-redirect-otn-login-userlogin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-11-https-kyfw-12306-cn-otn-passport-redirect-otn-login-userlogin"}},[s._v("#")]),s._v(" 1.1.11 "),a("code",[s._v("https://kyfw.12306.cn/otn/passport?redirect=/otn/login/userLogin")])]),s._v(" "),a("blockquote",[a("p",[s._v("作用：进入登陆页，获取cookie或行为验证")])]),s._v(" "),a("ul",[a("li",[s._v("GET")]),s._v(" "),a("li",[s._v("Referer "),a("code",[s._v("https://kyfw.12306.cn/otn/resources/login.html")])])]),s._v(" "),a("h4",{attrs:{id:"_1-1-12-https-kyfw-12306-cn-passport-web-auth-uamtk"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-12-https-kyfw-12306-cn-passport-web-auth-uamtk"}},[s._v("#")]),s._v(" 1.1.12 "),a("code",[s._v("https://kyfw.12306.cn/passport/web/auth/uamtk")])]),s._v(" "),a("blockquote",[a("p",[s._v("作用：获取newapptk")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("POST")])]),s._v(" "),a("li",[a("p",[s._v("data")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("{'appid': 'otn'}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("Referer "),a("code",[s._v("https://kyfw.12306.cn/otn/passport?redirect=/otn/login/userLogin")])])]),s._v(" "),a("li",[a("p",[s._v("response.json()")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("{'result_message': '验证通过', 'result_code': 0, 'apptk': None, 'newapptk': '9pHw2HZlkEEoUm_Nc4DJxl1QUk6NdAZqz4DXs3B2mHAga1210'}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("newapptk")])])])]),s._v(" "),a("h4",{attrs:{id:"_1-1-13-https-kyfw-12306-cn-otn-uamauthclient"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-13-https-kyfw-12306-cn-otn-uamauthclient"}},[s._v("#")]),s._v(" 1.1.13 "),a("code",[s._v("https://kyfw.12306.cn/otn/uamauthclient")])]),s._v(" "),a("blockquote",[a("p",[s._v("作用：登录后验证")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("POST")])]),s._v(" "),a("li",[a("p",[s._v("data")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("{'tk': newapptk}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("Referer "),a("code",[s._v("https://kyfw.12306.cn/otn/passport?redirect=/otn/login/userLogin")])])]),s._v(" "),a("li",[a("p",[s._v("response.json()")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("{'apptk': '9pHw2HZlkEEoUm_Nc4DJxl1QUk6NdAZqz4DXs3B2mHAga1210', 'result_code': 0, 'result_message': '验证通过', 'username': '赵艳秋'}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("h4",{attrs:{id:"_1-1-14-https-kyfw-12306-cn-otn-resources-js-framework-station-name-js-station-version-1-9076"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-14-https-kyfw-12306-cn-otn-resources-js-framework-station-name-js-station-version-1-9076"}},[s._v("#")]),s._v(" 1.1.14 "),a("code",[s._v("https://kyfw.12306.cn/otn/resources/js/framework/station_name.js?station_version=1.9076")])]),s._v(" "),a("blockquote",[a("p",[s._v("作用：解析获取车站/城市信息字典")])]),s._v(" "),a("ul",[a("li",[s._v("GET")]),s._v(" "),a("li",[s._v("query\n"),a("ul",[a("li",[s._v("station_version=1.9076 # 随着国家的发展，新增车站/城市，会新增版本号")])])])]),s._v(" "),a("h4",{attrs:{id:"_1-1-15-https-kyfw-12306-cn-otn-leftticket-log-leftticketdto-train-date-s-leftticketdto-from-station-s-leftticketdto-to-station-s-purpose-codes-adult"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-15-https-kyfw-12306-cn-otn-leftticket-log-leftticketdto-train-date-s-leftticketdto-from-station-s-leftticketdto-to-station-s-purpose-codes-adult"}},[s._v("#")]),s._v(" 1.1.15 "),a("code",[s._v("https://kyfw.12306.cn/otn/leftTicket/log?leftTicketDTO.train_date=%s&leftTicketDTO.from_station=%s&leftTicketDTO.to_station=%s&purpose_codes=ADULT")])]),s._v(" "),a("blockquote",[a("p",[s._v("作用：查询车量信息前置操作")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("GET")])]),s._v(" "),a("li",[a("p",[s._v("query")]),s._v(" "),a("ul",[a("li",[s._v("train_data 出行时间 固定格式 "),a("code",[s._v("2018-12-03")])]),s._v(" "),a("li",[s._v("from_station_code 出行车站/城市编码")]),s._v(" "),a("li",[s._v("to_station_code 到达车站/城市编码")])])]),s._v(" "),a("li",[a("p",[s._v("Referer "),a("code",[s._v("https://kyfw.12306.cn/otn/leftTicket/init")])])]),s._v(" "),a("li",[a("p",[s._v("response.json()")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('{"validateMessagesShowId":"_validatorMessage","status":true,"httpstatus":200,"messages":[],"validateMessages":{}}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("h4",{attrs:{id:"_1-1-16-https-kyfw-12306-cn-otn-leftticket-query-leftticketdto-train-date-s-leftticketdto-from-station-s-leftticketdto-to-station-s-purpose-codes-adult"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-16-https-kyfw-12306-cn-otn-leftticket-query-leftticketdto-train-date-s-leftticketdto-from-station-s-leftticketdto-to-station-s-purpose-codes-adult"}},[s._v("#")]),s._v(" 1.1.16 "),a("code",[s._v("https://kyfw.12306.cn/otn/leftTicket/query?leftTicketDTO.train_date=%s&leftTicketDTO.from_station=%s&leftTicketDTO.to_station=%s&purpose_codes=ADULT")])]),s._v(" "),a("blockquote",[a("p",[s._v("作用：查询车量信息")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("GET")])]),s._v(" "),a("li",[a("p",[s._v("query")]),s._v(" "),a("ul",[a("li",[s._v("train_data 出行时间 固定格式 "),a("code",[s._v("2018-12-03")])]),s._v(" "),a("li",[s._v("from_station_code 出行车站/城市编码 from 车站/城市信息字典[from_station]")]),s._v(" "),a("li",[s._v("to_station_code 到达车站/城市编码 from 车站/城市信息字典[to_station]")])])]),s._v(" "),a("li",[a("p",[s._v("Referer "),a("code",[s._v("https://kyfw.12306.cn/otn/leftTicket/init")])])]),s._v(" "),a("li",[a("p",[s._v("response.json()")]),s._v(" "),a("ul",[a("li",[s._v("此处需要解析车辆信息")]),s._v(" "),a("li",[s._v("secretStr")]),s._v(" "),a("li",[s._v("leftTicket")]),s._v(" "),a("li",[s._v("train_location")])])])]),s._v(" "),a("h4",{attrs:{id:"_1-1-17-https-kyfw-12306-cn-otn-login-checkuser"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-17-https-kyfw-12306-cn-otn-login-checkuser"}},[s._v("#")]),s._v(" 1.1.17 "),a("code",[s._v("https://kyfw.12306.cn/otn/login/checkUser")])]),s._v(" "),a("blockquote",[a("p",[s._v("作用：检查用户是否保持登录状态")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("POST")])]),s._v(" "),a("li",[a("p",[s._v("data")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("{'_json_att': ''}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("Referer "),a("code",[s._v("https://kyfw.12306.cn/otn/leftTicket/init")])])]),s._v(" "),a("li",[a("p",[s._v("response.json()")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("{'validateMessagesShowId': '_validatorMessage', 'status': True, 'httpstatus': 200, 'data': {'flag': True}, 'messages': [], 'validateMessages': {}}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("h4",{attrs:{id:"_1-1-18-https-kyfw-12306-cn-otn-leftticket-submitorderrequest"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-18-https-kyfw-12306-cn-otn-leftticket-submitorderrequest"}},[s._v("#")]),s._v(" 1.1.18 "),a("code",[s._v("https://kyfw.12306.cn/otn/leftTicket/submitOrderRequest")])]),s._v(" "),a("blockquote",[a("p",[s._v("作用：点击预定车票")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("POST")])]),s._v(" "),a("li",[a("p",[s._v("data")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("{\n'secretStr': secretStr,\n'train_date': train_date,\n'back_train_date': train_date,\n'tour_flag': 'dc',  # dc 单程 wf 往返\n'purpose_codes': 'ADULT',  # 成人\n'query_from_station_name': from_station, # 车站/城市信息字典[from_station]\n'query_to_station_name': to_station, # 车站/城市信息字典[to_station]\n'undefined': ''\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("Referer "),a("code",[s._v("https://kyfw.12306.cn/otn/leftTicket/init")])])]),s._v(" "),a("li",[a("p",[s._v("response.json()")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('{"validateMessagesShowId":"_validatorMessage","status":true,"httpstatus":200,"data":"N","messages":[],"validateMessages":{}}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("h4",{attrs:{id:"_1-1-19-https-kyfw-12306-cn-otn-confirmpassenger-initdc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-19-https-kyfw-12306-cn-otn-confirmpassenger-initdc"}},[s._v("#")]),s._v(" 1.1.19 "),a("code",[s._v("https://kyfw.12306.cn/otn/confirmPassenger/initDc")])]),s._v(" "),a("blockquote",[a("p",[s._v("作用：订单初始化 获取REPEAT_SUBMIT_TOKEN 和 key_check_isChange")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("POST")])]),s._v(" "),a("li",[a("p",[s._v("data")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("{'_json_att': ''}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("Referer "),a("code",[s._v("https://kyfw.12306.cn/otn/leftTicket/init")])])]),s._v(" "),a("li",[a("p",[s._v("response.text")]),s._v(" "),a("ul",[a("li",[s._v("repeat_submit_token 正则获取")]),s._v(" "),a("li",[s._v("key_check_isChange 正则获取")])])])]),s._v(" "),a("h4",{attrs:{id:"_1-1-20-https-kyfw-12306-cn-otn-confirmpassenger-getpassengerdtos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-20-https-kyfw-12306-cn-otn-confirmpassenger-getpassengerdtos"}},[s._v("#")]),s._v(" 1.1.20 "),a("code",[s._v("https://kyfw.12306.cn/otn/confirmPassenger/getPassengerDTOs")])]),s._v(" "),a("blockquote",[a("p",[s._v("作用：获取用户信息")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("POST")])]),s._v(" "),a("li",[a("p",[s._v("data")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("{'_json_att': '',\n'REPEAT_SUBMIT_TOKEN': repeat_submit_token} # 1.1.19获取\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("Referer "),a("code",[s._v("https://kyfw.12306.cn/otn/confirmPassenger/initDc")])])]),s._v(" "),a("li",[a("p",[s._v("response.json()")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("需要解析并构造乘客信息")])]),s._v(" "),a("li",[a("p",[s._v("需要解析坐席编码 "),a("code",[s._v("seat_type")])])]),s._v(" "),a("li",[a("p",[s._v("passengerTicketStr")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("passengerTicketStr = '%s,0,1,%s,%s,%s,%s,N' % (\n            seat_type, passenger_info_dict['passenger_name'],\n            passenger_info_dict['passenger_id_type_code'],\n            passenger_info_dict['passenger_id_no'],\n            passenger_info_dict['passenger_mobile_no'])\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("oldPassengerStr")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("oldPassengerStr = '%s,%s,%s,1_' % (\n            passenger_info_dict['passenger_name'],\n            passenger_info_dict['passenger_id_type_code'],\n            passenger_info_dict['passenger_id_no'])\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])])])])]),s._v(" "),a("h4",{attrs:{id:"_1-1-21-https-kyfw-12306-cn-otn-confirmpassenger-checkorderinfo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-21-https-kyfw-12306-cn-otn-confirmpassenger-checkorderinfo"}},[s._v("#")]),s._v(" 1.1.21 "),a("code",[s._v("https://kyfw.12306.cn/otn/confirmPassenger/checkOrderInfo")])]),s._v(" "),a("blockquote",[a("p",[s._v("作用：检查选票人信息")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("POST")])]),s._v(" "),a("li",[a("p",[s._v("data")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("{\n'cancel_flag': '2',  # 未知\n'bed_level_order_num': '000000000000000000000000000000',  # 未知\n'passengerTicketStr': passengerTicketStr.encode('utf-8'),  # O,0,1,靳文强,1,142303199512240614,18335456020,N\n'oldPassengerStr': oldPassengerStr.encode('utf-8'),  # 靳文强,1,142303199512240614,1_\n'tour_flag': 'dc',  # 单程\n'randCode': '',\n'whatsSelect': '1',\n'_json_att': '',\n'REPEAT_SUBMIT_TOKEN': repeat_submit_token # 1.1.19获取\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("Referer "),a("code",[s._v("https://kyfw.12306.cn/otn/confirmPassenger/initDc")])])]),s._v(" "),a("li",[a("p",[s._v("response.json()")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('{"validateMessagesShowId":"_validatorMessage","status":true,"httpstatus":200,"data":{"ifShowPassCode":"N","canChooseBeds":"N","canChooseSeats":"N","choose_Seats":"MOP9","isCanChooseMid":"N","ifShowPassCodeTime":"1","submitStatus":true,"smokeStr":""},"messages":[],"validateMessages":{}}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("h4",{attrs:{id:"_1-1-22-https-kyfw-12306-cn-otn-confirmpassenger-getqueuecount"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-22-https-kyfw-12306-cn-otn-confirmpassenger-getqueuecount"}},[s._v("#")]),s._v(" 1.1.22 "),a("code",[s._v("https://kyfw.12306.cn/otn/confirmPassenger/getQueueCount")])]),s._v(" "),a("blockquote",[a("p",[s._v("作用：提交订单,并获取持票未付款的人数，和车票的真实余数")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("POST")])]),s._v(" "),a("li",[a("p",[s._v("data")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("{\n'train_date': parseDate(train_date),  # Fri Nov 24 2017 00:00:00 GMT+0800 (中国标准时间)\n'train_no': train_info_dict['train_no'],  # 6c0000G31205\n'stationTrainCode': train_info_dict['stationTrainCode'],  # G312\n'seatType': seat_type,  # 席别\n'fromStationTelecode': train_info_dict['from_station'],  # one_train[6]\n'toStationTelecode': train_info_dict['to_station'],  # ? one_train[7]\n'leftTicket': train_info_dict['leftTicket'],  # one_train[12]\n'purpose_codes': '00',\n'train_location': train_info_dict['train_location'],  # one_train[15]\n'_json_att': '',\n'REPEAT_SUBMIT_TOKEN': repeat_submit_token # 1.1.19获取\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("Referer "),a("code",[s._v("https://kyfw.12306.cn/otn/confirmPassenger/initDc")])])]),s._v(" "),a("li",[a("p",[s._v("response.json()")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('{"validateMessagesShowId":"_validatorMessage","status":true,"httpstatus":200,"data":{"count":"0","ticket":"20,100","op_2":"false","countT":"0","op_1":"false"},"messages":[],"validateMessages":{}}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("count 持票未付款的人数")]),s._v(" "),a("li",[s._v("ticket 车票的真实余数")])])])]),s._v(" "),a("h4",{attrs:{id:"_1-1-23-https-kyfw-12306-cn-otn-confirmpassenger-confirmsingleforqueue"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-23-https-kyfw-12306-cn-otn-confirmpassenger-confirmsingleforqueue"}},[s._v("#")]),s._v(" 1.1.23 "),a("code",[s._v("https://kyfw.12306.cn/otn/confirmPassenger/confirmSingleForQueue")])]),s._v(" "),a("blockquote",[a("p",[s._v("作用：确认订单,进行扣票")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("POST")])]),s._v(" "),a("li",[a("p",[s._v("data")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("{\n'passengerTicketStr': passengerTicketStr.encode('utf-8'),\n'oldPassengerStr': oldPassengerStr.encode('utf-8'),\n'randCode': '',\n'purpose_codes': '00',\n'key_check_isChange': key_check_isChange,\n'leftTicketStr': leftTicket,\n'train_location': train_location,  # one_train[15]\n'choose_seats': '',  # 选择坐席 ABCDEF 上中下铺 默认为空不选\n'seatDetailType': '000',\n'whatsSelect': '1',\n'roomType': '00',\n'dwAll': 'N',  # ?\n'_json_att': '',\n'REPEAT_SUBMIT_TOKEN': repeat_submit_token # 1.1.19获取\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("Referer "),a("code",[s._v("https://kyfw.12306.cn/otn/confirmPassenger/initDc")])])]),s._v(" "),a("li",[a("p",[s._v("response.json()")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("{'validateMessagesShowId': '_validatorMessage', 'status': True, 'httpstatus': 200, 'data': {'submitStatus': True}, 'messages': [], 'validateMessages': {}}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("h4",{attrs:{id:"_1-1-24-https-kyfw-12306-cn-otn-confirmpassenger-queryorderwaittime-random-s-tourflag-dc-json-att-repeat-submit-token-s"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-24-https-kyfw-12306-cn-otn-confirmpassenger-queryorderwaittime-random-s-tourflag-dc-json-att-repeat-submit-token-s"}},[s._v("#")]),s._v(" 1.1.24 "),a("code",[s._v("https://kyfw.12306.cn/otn/confirmPassenger/queryOrderWaitTime?random=%s&tourFlag=dc&_json_att=&REPEAT_SUBMIT_TOKEN=%s")])]),s._v(" "),a("blockquote",[a("p",[s._v("作用：排队等待 返回waittime(下次发送重复请求所需要的等待时间)  重复发送请求直到获取 requestID 和 orderID")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("GET")])]),s._v(" "),a("li",[a("p",[s._v("query")]),s._v(" "),a("ul",[a("li",[s._v("str(int(time.time() * 1000))")]),s._v(" "),a("li",[s._v("repeat_submit_token  # 1.1.19获取")])])]),s._v(" "),a("li",[a("p",[s._v("Referer "),a("code",[s._v("https://kyfw.12306.cn/otn/confirmPassenger/initDc")])])]),s._v(" "),a("li",[a("p",[s._v("response.json()")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('{"validateMessagesShowId":"_validatorMessage","status":true,"httpstatus":200,"data":{"queryOrderWaitTimeStatus":true,"count":0,"waitTime":4,"requestId":6478994818521140385,"waitCount":1,"tourFlag":"dc","orderId":null},"messages":[],"validateMessages":{}}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("h4",{attrs:{id:"_1-1-25-https-kyfw-12306-cn-otn-confirmpassenger-resultorderfordcqueue"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-25-https-kyfw-12306-cn-otn-confirmpassenger-resultorderfordcqueue"}},[s._v("#")]),s._v(" 1.1.25 "),a("code",[s._v("https://kyfw.12306.cn/otn/confirmPassenger/resultOrderForDcQueue")])]),s._v(" "),a("blockquote",[a("p",[s._v("作用：获取订单结果，如果提示“网络传输过程中数据丢失，请查看未完成订单，继续支付！”则购票成功！")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("POST")])]),s._v(" "),a("li",[a("p",[s._v("data")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("{\n'orderSequence_no': orderID, # 1.1.24获取\n'_json_att': '',\n'REPEAT_SUBMIT_TOKEN': repeat_submit_token # 1.1.24获取\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("Referer "),a("code",[s._v("https://kyfw.12306.cn/otn/confirmPassenger/initDc")])])]),s._v(" "),a("li",[a("p",[s._v("response.json()")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('{"validateMessagesShowId":"_validatorMessage","status":true,"httpstatus":200,"data":{"errMsg":"网络传输过程中数据丢失，请查看未完成订单，继续支付！","submitStatus":false},"messages":[],"validateMessages":{}}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("h3",{attrs:{id:"_1-2-项目任务分解"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-项目任务分解"}},[s._v("#")]),s._v(" 1.2 项目任务分解")]),s._v(" "),a("p",[a("img",{attrs:{src:e(1168),alt:"1.2-12306购票项目任务分解"}})]),s._v(" "),a("hr"),s._v(" "),a("h2",{attrs:{id:"小结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结"}},[s._v("#")]),s._v(" 小结")]),s._v(" "),a("ol",[a("li",[s._v("了解 12306登陆购票抓包过程")])])])}),[],!1,null,null,null);t.default=n.exports}}]);